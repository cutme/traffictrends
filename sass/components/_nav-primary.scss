@keyframes show_submenu {
	0% {
		@include opacity(0);
		@include transform(translateY(-20px));
	}

	100% {
		@include opacity(1);
		@include transform(translateY(0));
	}
}


.c-nav-primary {	
	position: relative;
	z-index: 5;
	float: right;
	margin-top: -20px;
	
	.is-scrolling & {
		//margin-top: -20px;
	}

	a {
		position: relative;
		display: block;
		white-space: nowrap;
		text-transform: uppercase;
		font: {
			size: em(15);
			weight: $medium;
		}
	}
	
	> ul > li {
		@include hover;
		position: relative;
		
		> &:last-child {
			padding-right: 0;
		}

		&.active {
			a {
				color: white;

				&:after {
					background-color: $black;
				}
			}
		}

		i {
			margin-right: 5px;
		}		
	}

	.sub-menu {
		display: none;
		text-align: right;
		
		li {
			float: none;
		}
		
		a {
			padding: 8px 20px;
			font-size: 14px;

			&:hover {
				.desktop & {
					background-color: darken($gray, 5%);
				}
			}
		}
	}

	@media screen and ( min-width: 941px ) {
		
		> ul > li {
			float: left;
		
			> a {
				padding: 0 22px;
				height: 70px;
				line-height: 70px;
				
				&:hover {
					background-color: $gray;
				}
			}

			&:hover {
				.desktop & {
					background-color: $gray;
				}
				
				.sub-menu {
					display: block;
					-webkit-animation: show_submenu .4s;
				       -moz-animation: show_submenu .4s;
				        -ms-animation: show_submenu .4s;
				         -o-animation: show_submenu .4s;
				            animation: show_submenu .4s;
				}
			}
		}
		
		.sub-menu {
			position: absolute;
			right: 0; top: 70px;
			background-color: $gray;
		}
	}
	
	@media screen and ( max-width: 940px ) {
		@include box-shadow(rgba(0,0,0,.2) 0 2px 30px);
		position: absolute;
		top: -40px; right: -240px;
		display: none;
		height: 1000px;
		width: 240px;
		background-color: rgba(255,255,255,0.9);
		padding: 80px 20px 0 20px;

		li {
			float: none;
			border-bottom: 1px solid #ddd;
			
			&:last-child {
				border-bottom: none;
			}
			
			a {
				padding: 8px 10px;
				font-weight: $medium;
			}
		}
	}
}



